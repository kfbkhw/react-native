const API_KEY = process.env.CRYPTO_API_KEY;

export async function GET(request: Request) {
    // const limit = new URL(request.url).searchParams.get('limit') || 5;

    // const response = await fetch(
    //     `https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest?start=1&limit=${limit}&convert=USD`,
    //     {
    //         headers: {
    //             'X-CMC_PRO_API_KEY': API_KEY!,
    //         },
    //     }
    // );

    // const res = await response.json();
    // return Response.json(res.data);
    return Response.json(mockData);
}

const mockData = [
    {
        circulating_supply: 19698153,
        cmc_rank: 1,
        date_added: '2010-07-13T00:00:00.000Z',
        id: 1,
        infinite_supply: false,
        last_updated: '2024-05-14T11:45:00.000Z',
        max_supply: 21000000,
        name: 'Bitcoin',
        num_market_pairs: 11043,
        platform: null,
        quote: {
            USD: {
                fully_diluted_market_cap: 1296877730579.98,
                last_updated: '2024-05-14T11:45:00.000Z',
                market_cap: 1216480759964.6272,
                market_cap_dominance: 53.7157,
                percent_change_1h: 0.2534032,
                percent_change_24h: -1.43100784,
                percent_change_30d: -3.42726774,
                percent_change_60d: -8.3886774,
                percent_change_7d: -2.93626343,
                percent_change_90d: 20.35163934,
                price: 61756.08240857035,
                tvl: null,
                volume_24h: 25354533409.39964,
                volume_change_24h: 10.7409,
            },
        },
        self_reported_circulating_supply: null,
        self_reported_market_cap: null,
        slug: 'bitcoin',
        symbol: 'BTC',
        tags: [
            'mineable',
            'pow',
            'sha-256',
            'store-of-value',
            'state-channel',
            'coinbase-ventures-portfolio',
            'three-arrows-capital-portfolio',
            'polychain-capital-portfolio',
            'binance-labs-portfolio',
            'blockchain-capital-portfolio',
            'boostvc-portfolio',
            'cms-holdings-portfolio',
            'dcg-portfolio',
            'dragonfly-capital-portfolio',
            'electric-capital-portfolio',
            'fabric-ventures-portfolio',
            'framework-ventures-portfolio',
            'galaxy-digital-portfolio',
            'huobi-capital-portfolio',
            'alameda-research-portfolio',
            'a16z-portfolio',
            '1confirmation-portfolio',
            'winklevoss-capital-portfolio',
            'usv-portfolio',
            'placeholder-ventures-portfolio',
            'pantera-capital-portfolio',
            'multicoin-capital-portfolio',
            'paradigm-portfolio',
            'bitcoin-ecosystem',
            'ftx-bankruptcy-estate',
        ],
        total_supply: 19698153,
        tvl_ratio: null,
    },
    {
        circulating_supply: 120114986.95090629,
        cmc_rank: 2,
        date_added: '2015-08-07T00:00:00.000Z',
        id: 1027,
        infinite_supply: true,
        last_updated: '2024-05-14T11:45:00.000Z',
        max_supply: null,
        name: 'Ethereum',
        num_market_pairs: 8922,
        platform: null,
        quote: {
            USD: {
                fully_diluted_market_cap: 349095573776.7,
                last_updated: '2024-05-14T11:45:00.000Z',
                market_cap: 349095573776.6964,
                market_cap_dominance: 15.4149,
                percent_change_1h: 0.16907549,
                percent_change_24h: -1.86096667,
                percent_change_30d: -3.54910482,
                percent_change_60d: -20.70268803,
                percent_change_7d: -5.40749533,
                percent_change_90d: 5.77433249,
                price: 2906.344850367254,
                tvl: null,
                volume_24h: 11382441664.464981,
                volume_change_24h: 8.7093,
            },
        },
        self_reported_circulating_supply: null,
        self_reported_market_cap: null,
        slug: 'ethereum',
        symbol: 'ETH',
        tags: [
            'pos',
            'smart-contracts',
            'ethereum-ecosystem',
            'coinbase-ventures-portfolio',
            'three-arrows-capital-portfolio',
            'polychain-capital-portfolio',
            'binance-labs-portfolio',
            'blockchain-capital-portfolio',
            'boostvc-portfolio',
            'cms-holdings-portfolio',
            'dcg-portfolio',
            'dragonfly-capital-portfolio',
            'electric-capital-portfolio',
            'fabric-ventures-portfolio',
            'framework-ventures-portfolio',
            'hashkey-capital-portfolio',
            'kenetic-capital-portfolio',
            'huobi-capital-portfolio',
            'alameda-research-portfolio',
            'a16z-portfolio',
            '1confirmation-portfolio',
            'winklevoss-capital-portfolio',
            'usv-portfolio',
            'placeholder-ventures-portfolio',
            'pantera-capital-portfolio',
            'multicoin-capital-portfolio',
            'paradigm-portfolio',
            'injective-ecosystem',
            'layer-1',
            'ftx-bankruptcy-estate',
        ],
        total_supply: 120114986.95090629,
        tvl_ratio: null,
    },
    {
        circulating_supply: 110846923650.03687,
        cmc_rank: 3,
        date_added: '2015-02-25T00:00:00.000Z',
        id: 825,
        infinite_supply: true,
        last_updated: '2024-05-14T11:45:00.000Z',
        max_supply: null,
        name: 'Tether USDt',
        num_market_pairs: 85300,
        platform: {
            id: 1027,
            name: 'Ethereum',
            slug: 'ethereum',
            symbol: 'ETH',
            token_address: '0xdac17f958d2ee523a2206206994597c13d831ec7',
        },
        quote: {
            USD: {
                fully_diluted_market_cap: 113018479947.88,
                last_updated: '2024-05-14T11:45:00.000Z',
                market_cap: 110780201242.07803,
                market_cap_dominance: 4.8917,
                percent_change_1h: -0.09291485,
                percent_change_24h: -0.024252,
                percent_change_30d: -0.16698882,
                percent_change_60d: 0.0384602,
                percent_change_7d: -0.07520365,
                percent_change_90d: -0.08662029,
                price: 0.9993980671202974,
                tvl: null,
                volume_24h: 48885035477.613106,
                volume_change_24h: 16.9592,
            },
        },
        self_reported_circulating_supply: null,
        self_reported_market_cap: null,
        slug: 'tether',
        symbol: 'USDT',
        tags: [
            'stablecoin',
            'asset-backed-stablecoin',
            'avalanche-ecosystem',
            'solana-ecosystem',
            'arbitrum-ecosytem',
            'moonriver-ecosystem',
            'injective-ecosystem',
            'bnb-chain',
            'usd-stablecoin',
            'optimism-ecosystem',
            'fiat-stablecoin',
        ],
        total_supply: 113086550460.855,
        tvl_ratio: null,
    },
    {
        circulating_supply: 147586718.7771339,
        cmc_rank: 4,
        date_added: '2017-07-25T00:00:00.000Z',
        id: 1839,
        infinite_supply: false,
        last_updated: '2024-05-14T11:45:00.000Z',
        max_supply: null,
        name: 'BNB',
        num_market_pairs: 2156,
        platform: null,
        quote: {
            USD: {
                fully_diluted_market_cap: 86484284138.45,
                last_updated: '2024-05-14T11:45:00.000Z',
                market_cap: 86484284138.44543,
                market_cap_dominance: 3.8189,
                percent_change_1h: 0.09504275,
                percent_change_24h: -1.58577501,
                percent_change_30d: 6.18200727,
                percent_change_60d: 1.22334605,
                percent_change_7d: -1.39066236,
                percent_change_90d: 75.95069007,
                price: 585.989612446379,
                tvl: null,
                volume_24h: 1400937057.4084065,
                volume_change_24h: -12.9461,
            },
        },
        self_reported_circulating_supply: null,
        self_reported_market_cap: null,
        slug: 'bnb',
        symbol: 'BNB',
        tags: [
            'marketplace',
            'centralized-exchange',
            'payments',
            'smart-contracts',
            'alameda-research-portfolio',
            'multicoin-capital-portfolio',
            'bnb-chain',
            'layer-1',
            'sec-security-token',
            'alleged-sec-securities',
            'celsius-bankruptcy-estate',
        ],
        total_supply: 147586718.7771339,
        tvl_ratio: null,
    },
    {
        circulating_supply: 448653850.2980415,
        cmc_rank: 5,
        date_added: '2020-04-10T00:00:00.000Z',
        id: 5426,
        infinite_supply: true,
        last_updated: '2024-05-14T11:45:00.000Z',
        max_supply: null,
        name: 'Solana',
        num_market_pairs: 658,
        platform: null,
        quote: {
            USD: {
                fully_diluted_market_cap: 84300189353.51,
                last_updated: '2024-05-14T11:45:00.000Z',
                market_cap: 65660492365.59652,
                market_cap_dominance: 2.8993,
                percent_change_1h: 0.22540492,
                percent_change_24h: 0.47008808,
                percent_change_30d: 5.36281769,
                percent_change_60d: -13.50797274,
                percent_change_7d: -6.176767,
                percent_change_90d: 27.04806763,
                price: 146.35000306356034,
                tvl: null,
                volume_24h: 2066519305.979664,
                volume_change_24h: 9.962,
            },
        },
        self_reported_circulating_supply: null,
        self_reported_market_cap: null,
        slug: 'solana',
        symbol: 'SOL',
        tags: [
            'pos',
            'platform',
            'solana-ecosystem',
            'cms-holdings-portfolio',
            'kenetic-capital-portfolio',
            'alameda-research-portfolio',
            'multicoin-capital-portfolio',
            'okx-ventures-portfolio',
            'layer-1',
            'ftx-bankruptcy-estate',
            'sec-security-token',
            'alleged-sec-securities',
            'cmc-crypto-awards-2024',
        ],
        total_supply: 576017680.8257321,
        tvl_ratio: null,
    },
];
